{% extends "_base.html" %}

{% block title %}Tweets{% endblock %}

{% block content_title %}Tweets{% endblock %}

{% block css %}

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.18/c3.min.css"
          integrity="sha256-rp5Udclt95vV/qBRPHck2jUp/0xytxZgbHCCVRqV9vc=" crossorigin="anonymous"/>
{% endblock %}

{% block javascript_libs %}
    <!-- Load D3.js library -->
    {#    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.13.0/d3.min.js" integrity="sha256-hYXbQJK4qdJiAeDVjjQ9G0D6A0xLnDQ4eJI9dkm7Fpk=" crossorigin="anonymous"></script>#}
    {#    <script type="text/javascript"#}
    {#            src="{{ url_for('static', filename='js/plugins/visualization/d3/d3.min.js') }}"></script>#}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"
            integrity="sha256-dsOXGNHAo/syFnazt+KTBsCQeRmlcW1XKL0bCK4Baec=" crossorigin="anonymous"></script>

    <!-- Load C3.js  -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.18/c3.min.js"
            integrity="sha256-rx6BHKxiLgSA2BslVk0Gq+bclIxvxBm4eDKxvpS+7wI=" crossorigin="anonymous"></script>
    {#    <script type="text/javascript"#}
    {#            src="{{ url_for('static', filename='js/plugins/visualization/c3/c3.min.js') }}"></script>#}

{% endblock %}

{% block content %}
    <!-- Basic markup -->
    <div class="chart-container">
        <div class="chart" id="c3-line-chart"></div>
    </div>


{% endblock %}

{% block javascript_code %}
    <script>
        // Generate chart
        {#data = $.get('http://127.0.0.1:5000/fintweet/ajaxtest')#}

        $(document).ready(function () {

            var chart = c3.generate({
                bindto: '#c3-line-chart',
                data: {
                    url: 'ajaxtest',
                    mimeType: 'json',
                    type: 'bar',
                    keys: {
                        x: 'cashtags',
                        value: ['count']
                    }
                },
                axis: {
                    x: {
                        type: 'category'
                    }
                },
                bar: {
                    width: {
                        ratio: 0.5
                    }
                }
            });
        });


    </script>
{% endblock %}
